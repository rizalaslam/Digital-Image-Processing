(this.webpackJsonppcd=this.webpackJsonppcd||[]).push([[0],{104:function(e,t,a){},107:function(e,t,a){},110:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(20),s=a.n(i),l=(a(97),a(98),a(9)),c=a(10),h=a(12),o=a(11),u=a(29),m=a(17),d=a(129),g=a(130),f=a(131),p=a(132),v=a(133),y=a(113),E=a(114),b=a(115),w=a(116),C=a(117),k=a(50),I=a.n(k),x=a(15),S=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{fluid:!0,className:"text-center"},r.a.createElement(E.a,{fluid:!0},r.a.createElement("h1",{className:"display-3"},"Digital Image Processing App"))),r.a.createElement(E.a,null,r.a.createElement(b.a,null,r.a.createElement(b.a,{left:!0,href:"#"},r.a.createElement(b.a,{className:"shadow",object:!0,src:I.a,style:{width:"500px"}})),r.a.createElement(b.a,{className:"ml-3",body:!0},r.a.createElement(b.a,{heading:!0},"Reference :"),r.a.createElement(w.a,null,r.a.createElement(C.a,null,"https://www.dfstudios.co.uk/articles/programming/image-programming-algorithms/image-processing-algorithms-part-5-contrast-adjustment/"),r.a.createElement(C.a,null,"https://css-tricks.com/manipulating-pixels-using-canvas/"),r.a.createElement(C.a,null,"https://www.html5rocks.com/en/tutorials/canvas/imagefilters/"),r.a.createElement(C.a,null,"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/filter"))))))}}]),a}(n.Component),D=a(7),O=a(124),j=a(120),N=a(121),L=a(125),A=a(126),B=a(127),R=a(128),M=a(122),V=a(123),P=a(119),U=a(40),z=a(30),T=(a(104),function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isInit:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.svg?(console.log("SVG element is ready."),e.setState({isInit:!0})):console.log("SVG element is not ready.")}),0)}},{key:"componentWillUpdate",value:function(e,t){this._updateScale(),this._generateArea()}},{key:"_updateScale",value:function(){var e=this.props.domain,t=document.querySelector(".d3"),a=t.width.baseVal.value,n=t.height.baseVal.value;this.scale={x:z.b().range([0,a]).domain(e.x),y:z.b().range([n,0]).domain(e.y)}}},{key:"_generateArea",value:function(){var e=this;this.area=z.a().x((function(t){return e.scale.x(t.x)})).y1((function(t){return e.scale.y(t.y)})).y0(this.scale.y(0))}},{key:"renderArea",value:function(){var e=this,t=this.props;if(this.state.isInit&&t.dataset)return r.a.createElement("g",null,t.dataset.map((function(t,a){return r.a.createElement("path",{id:t.channel+"-channel",d:e.area(t.data),key:a})})))}},{key:"render",value:function(){var e=this;return r.a.createElement("svg",{className:"d3",ref:function(t){return e.svg=t},style:{height:"100%",width:"100%"}},this.renderArea())}}]),a}(n.Component)),W=a(118),F=a(19),G=(a(48),function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).primaryChannels={},n.maxValue=0,n.state={imageSrc:null,isLoading:!1,channel:null},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.props;this.state.imageSrc!==a.src?this.handleImageChanged(a.src,a.channel):this.state.channel!==a.channel&&this.handleChannelChanged(a.channel)}},{key:"getDataset",value:function(){var e=this;return("all"!==this.state.channel?[this.state.channel]:Object.keys(this.primaryChannels).filter((function(e){return"grayscale"!==e}))).map((function(t){return{channel:t,data:(a=e.primaryChannels[t],a.map((function(e,t){return{x:t,y:e}})))};var a}))}},{key:"getDomain",value:function(){return{x:[0,255],y:[0,this.maxValue]}}},{key:"handleImageChanged",value:function(e,t){var a=this;this.setState({imageSrc:e,isLoading:!0,channel:t}),document.getElementById("photo").src!==e?setTimeout((function(){a.getRGBDataEnhance(),a.setState({isLoading:!1})}),0):setTimeout((function(){a.getRGBData(),a.setState({isLoading:!1})}),0)}},{key:"handleChannelChanged",value:function(e){this.setState({channel:e})}},{key:"getRGBData",value:function(){this.primaryChannels={grayscale:new Array(256).fill(0),red:new Array(256).fill(0),green:new Array(256).fill(0),blue:new Array(256).fill(0)},this.maxValue=0;var e=document.getElementById("photo"),t=document.createElement("canvas");t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0,e.width,e.height);for(var a=0;a<t.width;++a)for(var n=0;n<t.height;++n){var r=t.getContext("2d").getImageData(a,n,1,1).data;++this.primaryChannels.red[r[0]],++this.primaryChannels.green[r[1]],++this.primaryChannels.blue[r[2]],++this.primaryChannels.grayscale[Math.round(r.slice(0,3).reduce((function(e,t){return e+t}),0)/3)]}for(var i in this.primaryChannels)this.primaryChannels.hasOwnProperty(i)&&(this.maxValue=Math.max(this.maxValue,Math.max.apply(Math,Object(U.a)(this.primaryChannels[i]))));this.maxValue=Math.round(1.05*this.maxValue)}},{key:"getRGBDataEnhance",value:function(){this.primaryChannels={grayscale:new Array(256).fill(0),red:new Array(256).fill(0),green:new Array(256).fill(0),blue:new Array(256).fill(0)},this.maxValue=0;var e=document.getElementById("enhance"),t=document.createElement("canvas");t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0,e.width,e.height);for(var a=0;a<t.width;++a)for(var n=0;n<t.height;++n){var r=t.getContext("2d").getImageData(a,n,1,1).data;++this.primaryChannels.red[r[0]],++this.primaryChannels.green[r[1]],++this.primaryChannels.blue[r[2]],++this.primaryChannels.grayscale[Math.round(r.slice(0,3).reduce((function(e,t){return e+t}),0)/3)]}for(var i in this.primaryChannels)this.primaryChannels.hasOwnProperty(i)&&(this.maxValue=Math.max(this.maxValue,Math.max.apply(Math,Object(U.a)(this.primaryChannels[i]))));this.maxValue=Math.round(1.05*this.maxValue)}},{key:"renderContent",value:function(){return null===this.props.src?r.a.createElement(x.a,{id:"histogram-chart",icon:F.a,style:{color:"blue"},size:"6x"}):this.state.isLoading?r.a.createElement(W.a,{color:"warning",id:"histogram-chart",animation:"border",variant:"primary"}):r.a.createElement(T,{domain:this.getDomain(),dataset:this.getDataset()})}},{key:"render",value:function(){return r.a.createElement(P.a,{style:{height:"250px"}},this.renderContent())}}]),a}(n.Component)),_=(a(105),a(16)),q=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).primaryChannels={},n.maxValue=0,n.ImageDatas={},n.state={imageSrc:null,enhanceSrc:null,channel:"all",filter:null,contrast:0,brightness:0,isLoading:!1},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.props;if(this.state.imageSrc!==a.src)return _.b.success("Processing Image"),void this.handleImageChanged(a.src);(this.state.filter!==a.filter||this.state.brightness!==a.brightness||this.state.contrast!==a.contrast)&&this.handleFilterBrightnessContrastChanged(a.filter,a.brightness,a.contrast)}},{key:"handleImageChanged",value:function(e){var t=this;this.setState({imageSrc:e,filter:null,isLoading:!0}),setTimeout((function(){t.getPixel(),t.loadImage(),t.setState({isLoading:!1}),_.b.success("Image Processed")}),1e3)}},{key:"handleFilterBrightnessContrastChanged",value:function(e,t,a){var n=this;this.setState({filter:e,brightness:t,contrast:a,isLoading:!0}),setTimeout((function(){n.getPixel(),n.setBrightness(),n.setContrast(),n.loadImage(),n.setState({isLoading:!1})}),4e3)}},{key:"getImage",value:function(){var e=this.ImageDatas,t=document.createElement("canvas");t.width=this.width,t.height=this.height,t.getContext("2d").putImageData(e,0,0),this.setState({enhanceSrc:t.toDataURL()})}},{key:"getRobert",value:function(){var e=this,t=this.ImageDatas.data,a=function(e,t,a,n){return e[0][0]*n(t,a)+e[0][1]*n(t+1,a)+e[1][0]*n(t,a+1)+e[1][1]*n(t+1,a+1)},n=[[1,0],[0,-1]],r=[[0,1],[-1,0]],i=[],s=function(t){return function(a,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t[4*(e.width*n+a)+r]}},l=s(t);l=s(t);for(var c=0;c<this.height;c++)for(var h=0;h<this.width;h++){var o=a(n,h,c,l),u=a(r,h,c,l),m=Math.sqrt(o*o+u*u)>>>0;i.push(m,m,m,255)}this.ImageDatas.data.set(new Uint8ClampedArray(i));var d=document.createElement("canvas");d.width=this.width,d.height=this.height,d.getContext("2d").putImageData(this.ImageDatas,0,0),this.setState({enhanceSrc:d.toDataURL()})}},{key:"getSobel",value:function(){var e=this,t=this.ImageDatas.data,a=function(e,t,a,n){return e[0][0]*n(t-1,a-1)+e[0][1]*n(t,a-1)+e[0][2]*n(t+1,a-1)+e[1][0]*n(t-1,a)+e[1][1]*n(t,a)+e[1][2]*n(t+1,a)+e[2][0]*n(t-1,a+1)+e[2][1]*n(t,a+1)+e[2][2]*n(t+1,a+1)},n=[[-1,0,1],[-2,0,2],[-1,0,1]],r=[[-1,-2,-1],[0,0,0],[1,2,1]],i=[],s=function(t){return function(a,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t[4*(e.width*n+a)+r]}},l=s(t);l=s(t);for(var c=0;c<this.height;c++)for(var h=0;h<this.width;h++){var o=a(n,h,c,l),u=a(r,h,c,l),m=Math.sqrt(o*o+u*u)>>>0;i.push(m,m,m,255)}this.ImageDatas.data.set(new Uint8ClampedArray(i));var d=document.createElement("canvas");d.width=this.width,d.height=this.height,d.getContext("2d").putImageData(this.ImageDatas,0,0),this.setState({enhanceSrc:d.toDataURL()})}},{key:"getPixel",value:function(){var e=this,t=document.getElementById("photo");this.width=t.width,this.height=t.height;var a=document.createElement("canvas");a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(t,0,0,t.width,t.height),this.ImageDatas=a.getContext("2d").getImageData(0,0,t.width,t.height);for(var n=[],r=function(t){return function(a,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t[4*(e.width*n+a)+r]}}(this.ImageDatas.data),i=0;i<this.height;i++)for(var s=0;s<this.width;s++){var l=r(s,i,0)+this.state.brightness/100*255,c=r(s,i,1)+this.state.brightness/100*255,h=r(s,i,2)+this.state.brightness/100*255;n.push(l,c,h,255)}this.ImageDatas.data.set(new Uint8ClampedArray(n))}},{key:"setBrightness",value:function(){for(var e=this,t=[],a=function(t){return function(a,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t[4*(e.width*n+a)+r]}}(this.ImageDatas.data),n=0;n<this.height;n++)for(var r=0;r<this.width;r++){var i=a(r,n,0)+this.state.brightness/100*255,s=a(r,n,1)+this.state.brightness/100*255,l=a(r,n,2)+this.state.brightness/100*255;t.push(i,s,l,255)}this.ImageDatas.data.set(new Uint8ClampedArray(t))}},{key:"setContrast",value:function(){for(var e=this,t=this.ImageDatas.data,a=[],n=259*(this.state.contrast+255)/(255*(259-this.state.contrast)),r=function(t){return function(a,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t[4*(e.width*n+a)+r]}}(t),i=0;i<this.height;i++)for(var s=0;s<this.width;s++){var l=n*(r(s,i,0)-128)+128,c=n*(r(s,i,1)-128)+128,h=n*(r(s,i,2)-128)+128;a.push(l,c,h,255)}this.ImageDatas.data.set(new Uint8ClampedArray(a))}},{key:"loadImage",value:function(){null==this.state.filter?this.getImage():"robert"===this.state.filter?this.getRobert():this.getSobel()}},{key:"renderImage",value:function(){return null===this.props.src?r.a.createElement("div",{id:"photo-placeholder"},r.a.createElement(x.a,{icon:"image",style:{color:"blue"},size:"6x"})):this.state.isLoading?r.a.createElement(W.a,{color:"secondary",id:"photo",animation:"border",variant:"primary"}):r.a.createElement("img",{id:"enhance",src:this.state.enhanceSrc})}},{key:"render",value:function(){return r.a.createElement(j.a,{className:"mt-4"},r.a.createElement(N.a,null,r.a.createElement(M.a,{className:"shadow-sm",style:{height:"400px"}},r.a.createElement(V.a,{className:"text-center",tag:"h4",style:{backgroundColor:"white"}},"Enhanced Image"),r.a.createElement(P.a,{id:"photo-block"},this.renderImage()))),r.a.createElement(N.a,null,r.a.createElement(M.a,{className:"shadow-sm",style:{height:"400px"}},r.a.createElement(V.a,{className:"text-center",tag:"h4",style:{backgroundColor:"white"}},"Histogram"),r.a.createElement(G,{src:this.state.enhanceSrc,channel:this.state.channel}))))}}]),a}(n.Component),H=(a(106),a(107),function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={isLoaded:!1,channel:"all",filter:null,isLoading:!1,imageSrc:null,url:null,background:"",brightness:0,contrast:0,width:0,height:0},n.updateDimensions=n.updateDimensions.bind(Object(D.a)(n)),n.photo=document.createElement("img"),n.photo.setAttribute("id","photo"),n}return Object(c.a)(a,[{key:"handleImageSelected",value:function(e){var t=document.querySelector("#fileInput").files[0];this.loadImage(t)}},{key:"loadImage",value:function(e){var t=this;this.setState({isLoaded:!0});var a=new FileReader;a.addEventListener("load",(function(){t.setState({imageSrc:a.result,url:a.result,filter:null,brightness:0,contrast:0})}),!1),e&&(_.b.success("Load "+e.name),a.readAsDataURL(e))}},{key:"switchChannel",value:function(e){this.setState({channel:e})}},{key:"switchFilter",value:function(e){_.b.success("Change filter to "+e),this.setState({filter:e})}},{key:"switchReset",value:function(e){_.b.success("Reset Image"),this.setState({filter:e,brightness:0,contrast:0})}},{key:"updateDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillMount",value:function(){this.updateDimensions()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"renderPlaceholder",value:function(){return r.a.createElement("div",{id:"photo-placeholder"},r.a.createElement(x.a,{icon:"image",style:{color:"blue"},size:"6x"}))}},{key:"renderPhoto",value:function(){return r.a.createElement("img",{id:"photo",src:this.state.url})}},{key:"renderButton",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{outline:!0,color:"primary",size:"lg",active:!0,onClick:function(){return document.getElementById("fileInput").click()}},"Upload Image"))}},{key:"renderButtonEnhance",value:function(){var e=this;return r.a.createElement(E.a,{className:"mt-4 pb-4"},r.a.createElement(j.a,null,r.a.createElement(N.a,null,r.a.createElement(L.a,null,r.a.createElement(A.a,{row:!0},r.a.createElement(B.a,{sm:2},"Brightness"),r.a.createElement(N.a,{sm:7},r.a.createElement(R.a,{type:"number",value:this.state.brightness,onChange:function(t){return e.setState({brightness:t.target.value})}}))),r.a.createElement(A.a,{row:!0},r.a.createElement(B.a,{sm:2},"Contrast"),r.a.createElement(N.a,{sm:7},r.a.createElement(R.a,{ttype:"number",value:this.state.contrast,onChange:function(t){return e.setState({contrast:t.target.value})}}))))),r.a.createElement(N.a,null,r.a.createElement(j.a,null,r.a.createElement(O.a,{outline:!0,color:"primary",size:"lg",active:!0,onClick:function(){return e.switchFilter("robert")}},"Robert"),r.a.createElement(O.a,{className:"ml-2",outline:!0,color:"primary",size:"lg",active:!0,onClick:function(){return e.switchFilter("sobel")}},"Sobel"),r.a.createElement(O.a,{className:"ml-2",outline:!0,color:"primary",size:"lg",active:!0,onClick:function(){return e.switchReset(null)}},"Reset")),r.a.createElement(j.a,null,r.a.createElement(O.a,{className:"mt-2",outline:!0,color:"primary",size:"lg",active:!0,onClick:function(){return document.getElementById("fileInput").click()}},"Change Image")))))}},{key:"renderEnhance",value:function(){return r.a.createElement(q,{src:this.state.imageSrc,brightness:this.state.brightness,contrast:this.state.contrast,filter:this.state.filter})}},{key:"render",value:function(){return r.a.createElement(E.a,{className:"mt-4 pb-4"},r.a.createElement(j.a,{className:"text-center pt-2"},r.a.createElement(N.a,null,r.a.createElement("h1",{style:{fontWeight:"bold"}},"Image Enhance"))),r.a.createElement(j.a,{className:"mt-4"},r.a.createElement(N.a,null,r.a.createElement(M.a,{className:"shadow-sm",style:{height:"400px"}},r.a.createElement(V.a,{className:"text-center",tag:"h4",style:{backgroundColor:"white"}},"Original Image"),r.a.createElement(P.a,{id:"photo-block"},this.state.isLoaded?this.renderPhoto():this.renderPlaceholder()))),r.a.createElement(N.a,null,r.a.createElement(M.a,{className:"shadow-sm",style:{height:"400px"}},r.a.createElement(V.a,{className:"text-center",tag:"h4",style:{backgroundColor:"white"}},"Histogram"),r.a.createElement(G,{src:this.state.imageSrc,channel:this.state.channel})))),this.state.isLoaded?this.renderEnhance():null,r.a.createElement(j.a,{className:"text-center mt-4"},r.a.createElement(N.a,null,r.a.createElement(R.a,{id:"fileInput",type:"file",accept:"image/jpeg",style:{display:"none"},onChange:this.handleImageSelected.bind(this)}),this.state.isLoaded?this.renderButtonEnhance():this.renderButton())),r.a.createElement(_.a,{color:"red",position:_.b.POSITION.BOTTOM_RIGHT}))}}]),a}(n.Component)),J=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{className:"mt-5 text-center"},r.a.createElement("p",null,"Made with ",r.a.createElement(x.a,{icon:"heart",style:{color:"blue"}})," + ",r.a.createElement(x.a,{icon:"coffee",style:{color:"brown"}})," + ",r.a.createElement(x.a,{icon:["fab","react"],style:{color:"blue"}})))}}]),a}(n.Component),$=function(e){Object(h.a)(a,e);var t=Object(o.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(d.a,{className:"shadow",dark:!0,style:{background:"rgba(6, 117, 255, 0.54)"},expand:"md"},r.a.createElement(g.a,{tag:u.b,exact:!0,to:"/"},"Digital Image Processing"),r.a.createElement(f.a,{className:"ml-auto",navbar:!0},r.a.createElement(p.a,null,r.a.createElement(v.a,{tag:u.b,exact:!0,to:"/about",activeClassName:"active"},"About")))),r.a.createElement(m.a,{exact:!0,path:"/",component:H}),r.a.createElement(m.a,{path:"/home",component:H}),r.a.createElement(m.a,{path:"/about",component:S}),r.a.createElement(J,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=a(23),Q=a(53);K.b.add(Q.a,F.b,F.d,F.c),s.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e,t,a){},50:function(e,t,a){e.exports=a.p+"static/media/example.bcdeff85.png"},92:function(e,t,a){e.exports=a(110)},98:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.78da2a7e.chunk.js.map